# test  creation / updating / deleting of content. We use a custom content type for that, not to rely on the standard ones...

# test  creation/updating/deleting of a custom content type

-
    type: content_type
    mode: create
    content_type_group: 1
    identifier: kmb_test_2
    name: Kaliop Migration Bundle Test Class 2
    name_pattern: ezstring
    attributes:
        -
            type: ezstring
            name: ezstring
            identifier: ezstring
        -
            type: ezbinaryfile
            name: ezbinaryfile
            identifier: ezbinaryfile
        -
            type: ezboolean
            name: ezboolean
            identifier: ezboolean
        -
            type: ezcountry
            name: ezcountry
            identifier: ezcountry
        -
            type: ezdatetime
            name: ezdatetime
            identifier: ezdatetime
        -
            type: ezdate
            name: ezdate
            identifier: ezdate
        -
            type: ezemail
            name: ezemail
            identifier: ezemail
        -
            type: ezfloat
            name: ezfloat
            identifier: ezfloat
        # @todo ezgmaplocation fieldType seems to be enabled by default, but the db table might *not* be present...
        #-
        #    type: ezgmaplocation
        #    name: ezgmaplocation
        #    identifier: ezgmaplocation
        -
            type: ezimage
            name: ezimage
            identifier: ezimage
        -
            type: ezinteger
            name: ezinteger
            identifier: ezinteger
        -
            type: ezisbn
            name: ezisbn
            identifier: ezisbn
        -
            type: ezkeyword
            name: ezkeyword
            identifier: ezkeyword
        -
            type: ezmedia
            name: ezmedia
            identifier: ezmedia
        -
            type: ezobjectrelation
            name: ezobjectrelation
            identifier: ezobjectrelation
        -
            type: ezobjectrelationlist
            name: ezobjectrelationlist
            identifier: ezobjectrelationlist
        # @todo we should make sure that at least one layout type exists in order to create an ezpage attribute...
        #-
        #    type: ezpage
        #    name: ezpage
        #    identifier: ezpage
        # nb: ezsrrating fieldType seems to be enabled by default, but the db table might *not* be present...
        #-
        #    type: ezsrrating
        #    name: ezsrrating
        #    identifier: ezsrrating
        -
            type: eztext
            name: eztext
            identifier: eztext
        -
            type: eztime
            name: eztime
            identifier: eztime
        -
            type: ezurl
            name: ezurl
            identifier: ezurl
        -
            type: ezuser
            name: ezuser
            identifier: ezuser
        -
            type: ezxmltext
            name: ezxmltext
            identifier: ezxmltext
    references:
        -
            identifier: kmb_test_2
            attribute: identifier

-
    type: content
    mode: create
    content_type: reference:kmb_test_2
    main_location: 2
    attributes:
        - ezstring: hello world 1
    references:
        -
            identifier: kmb_test_2_1
            attribute: object_id
-
    type: content
    mode: create
    content_type: reference:kmb_test_2
    main_location: 2
    priority: 1999
    remote_id: this_is_a_test_remoteid
    attributes:
        - ezstring: hello world 2
        - ezimage:
            path: blank.jpg
            alt_text: a blank 1x1 px image
        - ezbinaryfile:
            path: emptyfile.txt
        - ezxmltext:
            content: '<section><paragraph>Hello there</paragraph></section>'
    references:
        -
            identifier: kmb_test_2_2
            attribute: object_id
-
    type: content
    mode: create
    content_type: reference:kmb_test_2
    main_location: 2
    attributes:
        - ezstring: hello world 3
-
    type: content
    mode: delete
    object_id: [ 'reference:kmb_test_2_1', 'reference:kmb_test_2_2' ]
-
    type: content
    mode: delete
    match:
        content_type: reference:kmb_test_2
-
    type: content_type
    mode: delete
    identifier: 'reference:kmb_test_2'
